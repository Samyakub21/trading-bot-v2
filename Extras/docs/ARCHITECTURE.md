# Trading Bot - Project Architecture

## Directory Structure

```
Trading Bot/
â”‚
â”œâ”€â”€ ğŸ“„ Tradebot.py              # ğŸš€ MAIN ENTRY POINT
â”œâ”€â”€ ğŸ“„ config.py                # âš™ï¸  Configuration loader
â”œâ”€â”€ ğŸ“„ instruments.py           # ğŸ“Š Instrument definitions
â”‚
â”œâ”€â”€ ğŸ“„ scanner.py               # ğŸ” Market scanner & signal detection
â”œâ”€â”€ ğŸ“„ manager.py               # ğŸ“ˆ Trade management & trailing SL
â”œâ”€â”€ ğŸ“„ socket_handler.py        # ğŸ”Œ WebSocket market data feed
â”œâ”€â”€ ğŸ“„ strategies.py            # ğŸ¯ Trading strategies (EMA Crossover, etc.)
â”œâ”€â”€ ğŸ“„ state_stores.py          # ğŸ’¾ State management stores
â”‚
â”œâ”€â”€ ğŸ“„ utils.py                 # ğŸ› ï¸  Utilities & Telegram alerts
â”œâ”€â”€ ğŸ“„ chart_generator.py       # ğŸ“Š Chart images for notifications (NEW)
â”œâ”€â”€ ğŸ“„ eod_report.py            # ğŸ“‹ End-of-day reports (NEW)
â”œâ”€â”€ ğŸ“„ heartbeat.py             # ğŸ’“ Dead man's switch / monitoring
â”œâ”€â”€ ğŸ“„ contract_updater.py      # ğŸ”„ Auto-update futures contracts
â”œâ”€â”€ ğŸ“„ position_reconciliation.py # âœ… Position sync with broker
â”œâ”€â”€ ğŸ“„ economic_calendar.py     # ğŸ“… News/events filter
â”œâ”€â”€ ğŸ“„ dashboard.py             # ğŸ–¥ï¸  Streamlit dashboard
â”‚
â”œâ”€â”€ ğŸ“„ requirements.txt         # ğŸ“¦ Python dependencies
â”œâ”€â”€ ğŸ“„ README.md                # ğŸ“– Documentation
â”œâ”€â”€ ğŸ“„ credentials.json         # ğŸ” API credentials (gitignored)
â”œâ”€â”€ ğŸ“„ trading_config.json      # âš™ï¸  Trading parameters
â”œâ”€â”€ ğŸ“„ .gitignore               # ğŸš« Git ignore rules
â”‚
â”œâ”€â”€ ğŸ“ data/                    # ğŸ’¾ Runtime data files
â”‚   â”œâ”€â”€ trade_state_active.json # Current trade state
â”‚   â”œâ”€â”€ daily_pnl_combined.json # Daily P&L tracking
â”‚   â”œâ”€â”€ trade_history_combined.json # Trade history
â”‚   â”œâ”€â”€ contract_cache.json     # Contract cache
â”‚   â””â”€â”€ bot.log                 # Application logs
â”‚
â”œâ”€â”€ ğŸ“ reports/                 # ğŸ“Š Generated EOD reports
â”‚   â””â”€â”€ trading_report_*.html   # Daily HTML reports
â”‚
â”œâ”€â”€ ğŸ“ tests/                   # ğŸ§ª Test suite
â”‚   â”œâ”€â”€ conftest.py
â”‚   â”œâ”€â”€ test_scanner.py
â”‚   â”œâ”€â”€ test_manager.py
â”‚   â”œâ”€â”€ test_utils.py
â”‚   â””â”€â”€ ...
â”‚
â””â”€â”€ ğŸ“ Extras/                  # ğŸ“¦ Non-essential files
    â”‚
    â”œâ”€â”€ ğŸ“ docs/                # ğŸ“ Documentation & reviews
    â”‚   â”œâ”€â”€ ACTION_ITEMS.md
    â”‚   â”œâ”€â”€ CODE_REVIEW_REPORT.md
    â”‚   â”œâ”€â”€ REVIEW_SUMMARY.md
    â”‚   â””â”€â”€ REVIEW_COMPLETE.txt
    â”‚
    â”œâ”€â”€ ğŸ“ examples/            # ğŸ“‹ Example configurations
    â”‚   â”œâ”€â”€ credentials.example.json
    â”‚   â””â”€â”€ trading_config.example.json
    â”‚
    â”œâ”€â”€ ğŸ“ tools/               # ğŸ”§ Development tools
    â”‚   â”œâ”€â”€ backtest_engine.py  # Backtesting tool
    â”‚   â”œâ”€â”€ async_scanner.py    # Async scanner variant
    â”‚   â”œâ”€â”€ simulate.py         # Trade simulator
    â”‚   â””â”€â”€ generate_password_hash.py
    â”‚
    â”œâ”€â”€ ğŸ“ deployment/          # ğŸš€ Deployment scripts
    â”‚   â”œâ”€â”€ README_DEPLOYMENT.md
    â”‚   â”œâ”€â”€ setup_ubuntu.sh
    â”‚   â””â”€â”€ start.sh
    â”‚
    â”œâ”€â”€ ğŸ“ tradingview/         # ğŸ“ˆ TradingView scripts
    â”‚   â”œâ”€â”€ TradingView_Indicator_v6.pine
    â”‚   â””â”€â”€ TradingView_Strategy_v6.pine
    â”‚
    â”œâ”€â”€ ğŸ“ backup/              # ğŸ’¾ Backup files
    â”‚   â””â”€â”€ Tradebot_backup.py
    â”‚
    â””â”€â”€ ğŸ“ data/                # ğŸ“Š Reference data
        â”œâ”€â”€ api-scrip-master-detailed.csv
        â””â”€â”€ test_chart.png
```

## Component Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              TRADING BOT                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                           â”‚
â”‚  â”‚  Tradebot.py â”‚ â—„â”€â”€â”€ Main Entry Point                                     â”‚
â”‚  â”‚    (Main)    â”‚      - Initializes all components                         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜      - Manages threads                                    â”‚
â”‚         â”‚              - Graceful shutdown                                  â”‚
â”‚         â”‚                                                                    â”‚
â”‚         â–¼                                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚                    CORE TRADING MODULES                           â”‚       â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚       â”‚
â”‚  â”‚  â”‚   Scanner   â”‚  â”‚   Manager   â”‚  â”‚    Socket Handler       â”‚  â”‚       â”‚
â”‚  â”‚  â”‚  (scanner.py)â”‚  â”‚ (manager.py)â”‚  â”‚  (socket_handler.py)   â”‚  â”‚       â”‚
â”‚  â”‚  â”‚             â”‚  â”‚             â”‚  â”‚                         â”‚  â”‚       â”‚
â”‚  â”‚  â”‚ â€¢ Signal    â”‚  â”‚ â€¢ Trail SL  â”‚  â”‚ â€¢ WebSocket connection  â”‚  â”‚       â”‚
â”‚  â”‚  â”‚   detection â”‚  â”‚ â€¢ Close     â”‚  â”‚ â€¢ Real-time LTP         â”‚  â”‚       â”‚
â”‚  â”‚  â”‚ â€¢ Entry     â”‚  â”‚   trades    â”‚  â”‚ â€¢ Option price feed     â”‚  â”‚       â”‚
â”‚  â”‚  â”‚   triggers  â”‚  â”‚ â€¢ P&L calc  â”‚  â”‚                         â”‚  â”‚       â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚       â”‚
â”‚  â”‚         â”‚                â”‚                      â”‚                â”‚       â”‚
â”‚  â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚       â”‚
â”‚  â”‚                          â–¼                                        â”‚       â”‚
â”‚  â”‚                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                â”‚       â”‚
â”‚  â”‚                  â”‚  Strategies  â”‚ â—„â”€â”€â”€ Trading logic             â”‚       â”‚
â”‚  â”‚                  â”‚(strategies.py)â”‚     â€¢ EMA Crossover           â”‚       â”‚
â”‚  â”‚                  â”‚              â”‚      â€¢ RSI Momentum            â”‚       â”‚
â”‚  â”‚                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â€¢ MACD                    â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚                    SUPPORT MODULES                                â”‚       â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚       â”‚
â”‚  â”‚  â”‚   Utils     â”‚  â”‚  Heartbeat  â”‚  â”‚   Position              â”‚  â”‚       â”‚
â”‚  â”‚  â”‚ (utils.py)  â”‚  â”‚(heartbeat.py)â”‚ â”‚   Reconciliation        â”‚  â”‚       â”‚
â”‚  â”‚  â”‚             â”‚  â”‚             â”‚  â”‚(position_reconciliation)â”‚  â”‚       â”‚
â”‚  â”‚  â”‚ â€¢ Telegram  â”‚  â”‚ â€¢ Monitor   â”‚  â”‚                         â”‚  â”‚       â”‚
â”‚  â”‚  â”‚   alerts    â”‚  â”‚ â€¢ Restart   â”‚  â”‚ â€¢ Sync with broker      â”‚  â”‚       â”‚
â”‚  â”‚  â”‚ â€¢ State I/O â”‚  â”‚ â€¢ Dead man  â”‚  â”‚ â€¢ Verify positions      â”‚  â”‚       â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚                 NOTIFICATION & REPORTING (NEW)                    â”‚       â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚       â”‚
â”‚  â”‚  â”‚  Chart Generator  â”‚       â”‚    EOD Report     â”‚               â”‚       â”‚
â”‚  â”‚  â”‚(chart_generator.py)â”‚       â”‚  (eod_report.py)  â”‚               â”‚       â”‚
â”‚  â”‚  â”‚                   â”‚       â”‚                   â”‚               â”‚       â”‚
â”‚  â”‚  â”‚ â€¢ Candlestick     â”‚       â”‚ â€¢ Daily summary   â”‚               â”‚       â”‚
â”‚  â”‚  â”‚   charts          â”‚       â”‚ â€¢ P&L breakdown   â”‚               â”‚       â”‚
â”‚  â”‚  â”‚ â€¢ Entry/SL/Target â”‚       â”‚ â€¢ Email reports   â”‚               â”‚       â”‚
â”‚  â”‚  â”‚ â€¢ Telegram image  â”‚       â”‚ â€¢ Telegram summaryâ”‚               â”‚       â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚                      CONFIGURATION                                â”‚       â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚       â”‚
â”‚  â”‚  â”‚  config.py  â”‚  â”‚instruments.pyâ”‚ â”‚    state_stores.py     â”‚  â”‚       â”‚
â”‚  â”‚  â”‚             â”‚  â”‚             â”‚  â”‚                         â”‚  â”‚       â”‚
â”‚  â”‚  â”‚ â€¢ Env vars  â”‚  â”‚ â€¢ CRUDEOIL  â”‚  â”‚ â€¢ MarketDataStore       â”‚  â”‚       â”‚
â”‚  â”‚  â”‚ â€¢ JSON filesâ”‚  â”‚ â€¢ NIFTY     â”‚  â”‚ â€¢ SignalTracker         â”‚  â”‚       â”‚
â”‚  â”‚  â”‚ â€¢ Defaults  â”‚  â”‚ â€¢ BANKNIFTY â”‚  â”‚ â€¢ TradeStateManager     â”‚  â”‚       â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚                      EXTERNAL SERVICES                            â”‚       â”‚
â”‚  â”‚                                                                    â”‚       â”‚
â”‚  â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚       â”‚
â”‚  â”‚    â”‚  Dhan    â”‚    â”‚ Telegram â”‚    â”‚  Email   â”‚    â”‚Dashboard â”‚ â”‚       â”‚
â”‚  â”‚    â”‚   API    â”‚    â”‚   Bot    â”‚    â”‚  (SMTP)  â”‚    â”‚(Streamlit)â”‚ â”‚       â”‚
â”‚  â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Data Flow

```
Market Data â”€â”€â–º Socket Handler â”€â”€â–º Scanner â”€â”€â–º Strategy Analysis
                     â”‚                              â”‚
                     â”‚                              â–¼
                     â”‚                      Signal Detected?
                     â”‚                         â”‚      â”‚
                     â”‚                        YES     NO
                     â”‚                         â”‚      â”‚
                     â”‚                         â–¼      â””â”€â”€â–º Continue Scanning
                     â”‚                   Place Order
                     â”‚                         â”‚
                     â–¼                         â–¼
              Live Price Feed â—„â”€â”€â”€â”€â”€â”€â”€ Trade Manager
                     â”‚                         â”‚
                     â”‚                         â–¼
                     â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                     â”‚              â”‚  Trail Stop Loss â”‚
                     â”‚              â”‚  Check Targets   â”‚
                     â”‚              â”‚  Auto Square-off â”‚
                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                           â”‚
                                           â–¼
                                    Trade Closed
                                           â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                      â”‚                      â”‚
                    â–¼                      â–¼                      â–¼
             Save to History        Send Telegram          Update Daily P&L
                    â”‚                 Alert + Chart               â”‚
                    â”‚                      â”‚                      â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                           â”‚
                                           â–¼
                                   EOD Report (23:35)
                                           â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                      â”‚                      â”‚
                    â–¼                      â–¼                      â–¼
              Save HTML            Send Telegram            Email PDF
              Locally               Summary                 Report
```

## File Categories

| Category | Files | Purpose |
|----------|-------|---------|
| **Entry Point** | `Tradebot.py` | Main application entry |
| **Core Logic** | `scanner.py`, `manager.py`, `socket_handler.py`, `strategies.py` | Trading operations |
| **Utilities** | `utils.py`, `state_stores.py` | Helper functions & state |
| **Monitoring** | `heartbeat.py`, `position_reconciliation.py` | Health checks |
| **Notifications** | `chart_generator.py`, `eod_report.py` | Alerts & reports |
| **Configuration** | `config.py`, `instruments.py` | Settings & instruments |
| **Dashboard** | `dashboard.py` | Web UI |
| **Data** | `contract_updater.py`, `economic_calendar.py` | External data |
